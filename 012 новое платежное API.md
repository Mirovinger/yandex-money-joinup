Новое платежное API
===================

### Преимущества

Каковы преимущества нового API vs старый протокол:
1. Привычное REST взаимодействие. Более простая и понятная архитектура, предсказуемость поведения. Старый протокол в этом плане был "белой вороной", где все по своему и реализация не похожа на другие платформы. Каждый отдельный метод платежа - это отдельный, не связанный с предыдущим вариантом синтакцис, сценарий и процесс. По мнению программистов, которые реализовали современные платежные протоколы, наш новый протокол соответствует стандартам, наследует логику известных платежных решений и их сценарии.
2. Возвраты платежей из коробки. Не нужно реализация MWS со всеми сложностями обязательной упаковки запросы в PKCS7 пакет, открытия IP, генерация сертификатов и т.п., уникальный и сложный синтаксис не схожий ни с чем в старом протоколе.
3. Холды (платежи картой с предавторизацией средств) из коробки. Тоже не надо ничего делать по MWS.
4. Рекурренты картами проще, без необходимости MWS. Требуется только согласование с СБ как и раньше.
5. Рекурренты кошельком, а не только картой.
6. СМС инвойсинг Сбербанка из коробки. Не надо никакого MWS.
7. Возможность запрашивать статус по платежу из коробки. Раньше надо было реализовывать listOrders MWS.
8. На текущий момент два вида колбеков (уведомлений контрагента на его урл о событиях о платеже): платеж ожидает подтверждения мерчом после оплаты, и платеж оплачен. Количество таких колбеков будет больше. Например будет (уже делают): платеж отменен, ошибка платежа, платеж возвращен. Для информационной системы контрагента это важно, чтобы не ходить за статусом каждого, а получать уведомление, если что-то по конкретному платежу изменилось. Рассматриваются планы по уведомления о чаржбек операциях.
9. Мобильный SDK для IOS и Android.
10. Есть поддержка ApplePay и AndoridPay в mSDK.
11. Мапинг ошибок платежа. Теперь, если платеж не прошел, то по API вы получаете информацию о причинах. Например, не достаточно средств на карте, или плательщику не подключен Сбербанк.Онлайн, и т.д.

### Документация
Docs-en:  https://checkout.yandex.com/docs/checkout-api/
Guides-en: https://checkout.yandex.com/docs/guides/

Docs-ru: https://kassa.yandex.ru/docs/checkout-api/
Guides-ru: https://kassa.yandex.ru/docs/guides/

### Дополнительные рекомендации
1. URL для уведомлений https://goo.gl/EWyjNn
2. Return_url. https://goo.gl/MZGaEk

Тестовое окружение, чтобы попробовать новое API https://goo.gl/UTxiRc с помощью REST-клиента Insomnia.
